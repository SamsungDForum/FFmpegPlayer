<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1072px" preserveAspectRatio="none" style="width:851px;height:1072px;" version="1.1" viewBox="0 0 851 1072" width="851px" zoomAndPan="magnify"><defs><filter height="300%" id="f10gqo6496cb3a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="288.1641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="69.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="69.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="69.2188" y2="69.2188"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="235.4609" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="121.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="121.9219" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="121.9219" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="448" y1="121.9219" y2="121.9219"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="448" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="81.7031" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="679" y="901.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="901.3047" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="901.3047" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="689" y1="901.3047" y2="901.3047"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="679" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="689" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="149.4063" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="207.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="207.9766" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="207.9766" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="784.5" y1="207.9766" y2="207.9766"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="784.5" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="797.5" x="30" y="167.2734"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="363.8672" style="stroke: #000000; stroke-width: 2.0;" width="827.5" x="10" y="422.7344"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="89.0547" style="stroke: #000000; stroke-width: 2.0;" width="797.5" x="30" y="448.0859"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="124.4063" style="stroke: #000000; stroke-width: 2.0;" width="807.5" x="20" y="655.1953"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="299" x="30" y="710.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="59.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="116" x2="116" y1="357.3828" y2="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="116" x2="116" y1="836.9531" y2="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="116" x2="116" y1="983.0078" y2="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="1011.0078" y2="1065.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.5" x2="442.5" y1="59.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="442.5" x2="442.5" y1="357.3828" y2="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.5" x2="442.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="442.5" x2="442.5" y1="836.9531" y2="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.5" x2="442.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="442.5" x2="442.5" y1="983.0078" y2="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.5" x2="442.5" y1="1011.0078" y2="1065.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="564.5" x2="564.5" y1="59.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="564.5" x2="564.5" y1="357.3828" y2="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="564.5" x2="564.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="564.5" x2="564.5" y1="836.9531" y2="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="564.5" x2="564.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="564.5" x2="564.5" y1="983.0078" y2="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="564.5" x2="564.5" y1="1011.0078" y2="1065.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="59.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="683.5" x2="683.5" y1="357.3828" y2="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="683.5" x2="683.5" y1="836.9531" y2="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="683.5" x2="683.5" y1="983.0078" y2="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="1011.0078" y2="1065.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="779.5" x2="779.5" y1="59.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="779.5" x2="779.5" y1="357.3828" y2="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="779.5" x2="779.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="779.5" x2="779.5" y1="836.9531" y2="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="779.5" x2="779.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="779.5" x2="779.5" y1="983.0078" y2="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="779.5" x2="779.5" y1="1011.0078" y2="1065.3594"/><rect fill="#FEFECE" filter="url(#f10gqo6496cb3a)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="40" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="134" x="47" y="26.5332">«EsPlayerPresenter»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="68" y="44.1426">DataPresenter</text><rect fill="#FEFECE" filter="url(#f10gqo6496cb3a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="392.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="399.5" y="44.1426">DataProvider</text><rect fill="#FEFECE" filter="url(#f10gqo6496cb3a)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="503.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="93" x="516.5" y="26.5332">«DataReader»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="510.5" y="44.1426">FactoryDelegate</text><rect fill="#FEFECE" filter="url(#f10gqo6496cb3a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="636.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="643.5" y="44.1426">DataReader</text><rect fill="#FEFECE" filter="url(#f10gqo6496cb3a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="741.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="748.5" y="44.1426">ESPlayer</text><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="288.1641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="69.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="69.2188" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="69.2188" y2="69.2188"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="235.4609" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="121.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="121.9219" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="121.9219" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="448" y1="121.9219" y2="121.9219"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="438" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="438" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="448" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438" x2="448" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="81.7031" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="679" y="901.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="901.3047" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="901.3047" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="689" y1="901.3047" y2="901.3047"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="679" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="689" x2="689" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="689" y1="1056.3594" y2="1056.3594"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="149.4063" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="207.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="207.9766" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="207.9766" y2="357.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="784.5" y1="207.9766" y2="207.9766"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="451.5703" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="385.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="385.3828" y2="836.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="385.3828" y2="836.9531"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="118.0547" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="864.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="864.9531" y2="983.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="864.9531" y2="983.0078"/><rect fill="#FFFFFF" filter="url(#f10gqo6496cb3a)" height="45.3516" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="774.5" y="1011.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="774.5" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.5" x2="784.5" y1="1011.0078" y2="1056.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="774.5" x2="784.5" y1="1056.3594" y2="1056.3594"/><polygon fill="#A80036" points="99,87.5703,109,91.5703,99,95.5703,103,91.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="105" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="7" y="86.7139">Open( Window )</text><polygon fill="#A80036" points="426,117.9219,436,121.9219,426,125.9219,430,121.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="432" y1="121.9219" y2="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="128" y="117.0654">Open()</text><polygon fill="#A80036" points="132,148.2734,122,152.2734,132,156.2734,128,152.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="126" x2="437" y1="152.2734" y2="152.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="138" y="147.417">openTask</text><path d="M30,167.2734 L351,167.2734 L351,175.2734 L341,185.2734 L30,185.2734 L30,167.2734 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="797.5" x="30" y="167.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="276" x="45" y="181.7686">ESPlayer player = CreateESplayer( Window )</text><polygon fill="#A80036" points="762.5,203.9766,772.5,207.9766,762.5,211.9766,766.5,207.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="207.9766" y2="207.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="128" y="203.1201">_esPlayer = new ESPlayer()</text><polygon fill="#A80036" points="762.5,234.3281,772.5,238.3281,762.5,242.3281,766.5,238.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="238.3281" y2="238.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="128" y="233.4717">Open()</text><polygon fill="#A80036" points="762.5,264.6797,772.5,268.6797,762.5,272.6797,766.5,268.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="268.6797" y2="268.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="128" y="263.8232">SetDisplay( Window )</text><polygon fill="#A80036" points="762.5,295.0313,772.5,299.0313,762.5,303.0313,766.5,299.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="299.0313" y2="299.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="128" y="294.1748">attach OnEOS / OnError / OnBufferStatusChanged handlers</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="163" y1="336.3828" y2="336.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="336.3828" y2="349.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="349.3828" y2="349.3828"/><polygon fill="#A80036" points="132,345.3828,122,349.3828,132,353.3828,128,349.3828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="128" y="331.5264">clipConfig = await openTask;</text><polygon fill="#A80036" points="132,403.7344,122,407.7344,132,411.7344,128,407.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="126" x2="437" y1="407.7344" y2="407.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="138" y="402.8779">ClipConfiguration</text><path d="M10,422.7344 L668,422.7344 L668,430.7344 L658,440.7344 L10,440.7344 L10,422.7344 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="363.8672" style="stroke: #000000; stroke-width: 2.0;" width="827.5" x="10" y="422.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="613" x="25" y="437.2295">(readyToTransferTask, prepareAsyncTask) PrepareESplayer( ESPlayer, ICollection&lt;StreamConfig&gt;)</text><path d="M30,448.0859 L103,448.0859 L103,456.0859 L93,466.0859 L30,466.0859 L30,448.0859 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="89.0547" style="stroke: #000000; stroke-width: 2.0;" width="797.5" x="30" y="448.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="45" y="462.5811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217" x="118" y="461.5049">[foreach( config in IList&lt;StreamConfig&gt;)]</text><path d="M126,471.4375 L126,497.4375 L357,497.4375 L357,481.4375 L347,471.4375 L126,471.4375 " fill="#FBFB77" filter="url(#f10gqo6496cb3a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M347,471.4375 L347,481.4375 L357,481.4375 L347,471.4375 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="132" y="489.9326">AV configs only in ESPlayer format.</text><polygon fill="#A80036" points="762.5,525.1406,772.5,529.1406,762.5,533.1406,766.5,529.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="529.1406" y2="529.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="128" y="524.2842">SetStream( config )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="163" y1="566.4922" y2="566.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="566.4922" y2="579.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="579.4922" y2="579.4922"/><polygon fill="#A80036" points="132,575.4922,122,579.4922,132,583.4922,128,579.4922" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="128" y="561.6357">readyToTransferTcs = new TaskCompletionSource()</text><polygon fill="#A80036" points="762.5,605.8438,772.5,609.8438,762.5,613.8438,766.5,609.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="609.8438" y2="609.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="128" y="604.9873">preapreAsyncTask = PrepareAsync()</text><polygon fill="#A80036" points="132,636.1953,122,640.1953,132,644.1953,128,640.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="126" x2="773.5" y1="640.1953" y2="640.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="138" y="635.3389">Task</text><path d="M20,655.1953 L85,655.1953 L85,663.1953 L75,673.1953 L20,673.1953 L20,655.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="124.4063" style="stroke: #000000; stroke-width: 2.0;" width="807.5" x="20" y="655.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="35" y="669.6904">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="100" y="668.6143">[Parallel with await readyToTransferTask]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="131" y1="695.8984" y2="691.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="131" y1="695.8984" y2="699.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="773.5" y1="695.8984" y2="695.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="138" y="691.042">onReadyToPrepare( stream )</text><path d="M30,710.8984 L90,710.8984 L90,718.8984 L80,728.8984 L30,728.8984 L30,710.8984 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="299" x="30" y="710.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="45" y="725.3936">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="219" x="105" y="724.3174">[All streams reported onReadyToPreapre]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="163" y1="751.6016" y2="751.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="751.6016" y2="764.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="764.6016" y2="764.6016"/><polygon fill="#A80036" points="132,760.6016,122,764.6016,132,768.6016,128,764.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="128" y="746.7451">readyToTransferTcs.SetResult()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="163" y1="815.9531" y2="815.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="815.9531" y2="828.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="828.9531" y2="828.9531"/><polygon fill="#A80036" points="132,824.9531,122,828.9531,132,832.9531,128,828.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="128" y="811.0967">await readyToTransferTcs.Task</text><polygon fill="#A80036" points="553,883.3047,563,887.3047,553,891.3047,557,887.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="559" y1="887.3047" y2="887.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="128" y="882.4482">_dataReaderSession = FactoryDelegate()</text><polygon fill="#A80036" points="667,897.3047,677,901.3047,667,905.3047,671,901.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="673" y1="901.3047" y2="901.3047"/><polygon fill="#A80036" points="132,927.6563,122,931.6563,132,935.6563,128,931.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="126" x2="564" y1="931.6563" y2="931.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="138" y="926.7998">DataReader</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="163" y1="962.0078" y2="962.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="962.0078" y2="975.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="975.0078" y2="975.0078"/><polygon fill="#A80036" points="132,971.0078,122,975.0078,132,979.0078,128,975.0078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="128" y="957.1514">await prepareAsyncTask</text><polygon fill="#A80036" points="762.5,1029.3594,772.5,1033.3594,762.5,1037.3594,766.5,1033.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="768.5" y1="1033.3594" y2="1033.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="128" y="1028.5029">Start()</text><polygon fill="#A80036" points="11,1043.3594,1,1047.3594,11,1051.3594,7,1047.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="110" y1="1047.3594" y2="1047.3594"/><!--MD5=[7e8a465809805581f313efe22cf13fff]
@startuml EsPlayerPresenterOpen
hide footbox

participant DataPresenter <<EsPlayerPresenter>>
participant DataProvider
participant FactoryDelegate <<DataReader>>
participant DataReader
participant ESPlayer

activate DataPresenter

[-> DataPresenter : Open( Window )

DataPresenter -> DataProvider : Open()
activate DataProvider
DataPresenter <- - DataProvider : openTask

group ESPlayer player = CreateESplayer( Window )
    DataPresenter -> ESPlayer : _esPlayer = new ESPlayer()
    activate ESPlayer
    DataPresenter -> ESPlayer : Open()
    DataPresenter -> ESPlayer : SetDisplay( Window )
    DataPresenter -> ESPlayer : attach OnEOS / OnError / OnBufferStatusChanged handlers
end

DataPresenter -> DataPresenter : clipConfig = await openTask;

...
DataPresenter <- - DataProvider : ClipConfiguration

group (readyToTransferTask, prepareAsyncTask) PrepareESplayer( ESPlayer, ICollection<StreamConfig>)
    loop foreach( config in IList<StreamConfig>)
        note right DataPresenter
            AV configs only in ESPlayer format.
        end note    
        DataPresenter -> ESPlayer : SetStream( config )
    end
    DataPresenter -> DataPresenter : readyToTransferTcs = new TaskCompletionSource()
    DataPresenter -> ESPlayer : preapreAsyncTask = PrepareAsync()
    DataPresenter <- - ESPlayer : Task
        
    par Parallel with await readyToTransferTask
        DataPresenter <<- ESPlayer : onReadyToPrepare( stream )

        alt All streams reported onReadyToPreapre
            DataPresenter <- DataPresenter : readyToTransferTcs.SetResult()
        end
    end
end

DataPresenter -> DataPresenter : await readyToTransferTcs.Task
...

DataPresenter -> FactoryDelegate : _dataReaderSession = FactoryDelegate()
FactoryDelegate -> DataReader
activate DataReader
DataPresenter <- - FactoryDelegate : DataReader

DataPresenter -> DataPresenter : await prepareAsyncTask
...

DataPresenter -> ESPlayer : Start()
[<- - DataPresenter
@enduml

PlantUML version 1.2020.20(Sat Nov 21 11:02:45 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1250
Language: en
Country: GB
--></g></svg>