<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1236px" preserveAspectRatio="none" style="width:890px;height:1236px;" version="1.1" viewBox="0 0 890 1236" width="890px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i005mt6ru4o9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="60.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="610" y="1106.3594"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="718" y="1106.3594"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="91.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="813.5" y="1106.3594"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="284" x="209" y="528.3828"/><rect fill="#FFFFFF" height="61.7031" style="stroke: none; stroke-width: 1.0;" width="284" x="209" y="606.4375"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="111.4063" style="stroke: #000000; stroke-width: 2.0;" width="873.5" x="3" y="770.8438"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="657.5" x="209" y="796.1953"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="235" x="209" y="956.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="59.2188" y2="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="69.2188" y2="97.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="97.2188" y2="184.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="184.9219" y2="212.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="212.9219" y2="300.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="300.625" y2="328.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="328.625" y2="432.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="432.6797" y2="460.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="460.6797" y2="705.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="705.4922" y2="733.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="733.4922" y2="1056.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="295" x2="295" y1="1056.0078" y2="1084.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="295" y1="1084.0078" y2="1229.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="59.2188" y2="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="69.2188" y2="97.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="97.2188" y2="184.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="184.9219" y2="212.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="212.9219" y2="300.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="300.625" y2="328.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="328.625" y2="432.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="432.6797" y2="460.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="460.6797" y2="705.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="705.4922" y2="733.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="733.4922" y2="1056.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="614.5" x2="614.5" y1="1056.0078" y2="1084.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="614.5" y1="1084.0078" y2="1229.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="59.2188" y2="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="69.2188" y2="97.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="97.2188" y2="184.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="184.9219" y2="212.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="212.9219" y2="300.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="300.625" y2="328.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="328.625" y2="432.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="432.6797" y2="460.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="460.6797" y2="705.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="705.4922" y2="733.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="733.4922" y2="1056.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="722.5" x2="722.5" y1="1056.0078" y2="1084.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="722.5" x2="722.5" y1="1084.0078" y2="1229.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="59.2188" y2="69.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="69.2188" y2="97.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="97.2188" y2="184.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="184.9219" y2="212.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="212.9219" y2="300.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="300.625" y2="328.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="328.625" y2="432.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="432.6797" y2="460.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="460.6797" y2="705.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="705.4922" y2="733.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="733.4922" y2="1056.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="818.5" x2="818.5" y1="1056.0078" y2="1084.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="818.5" x2="818.5" y1="1084.0078" y2="1229.4141"/><rect fill="#FEFECE" filter="url(#f1i005mt6ru4o9)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="219" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="134" x="226" y="26.5332">«EsPlayerPresenter»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="247" y="44.1426">DataPresenter</text><rect fill="#FEFECE" filter="url(#f1i005mt6ru4o9)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="564.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="571.5" y="44.1426">DataProvider</text><rect fill="#FEFECE" filter="url(#f1i005mt6ru4o9)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="675.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="682.5" y="44.1426">DataReader</text><rect fill="#FEFECE" filter="url(#f1i005mt6ru4o9)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="780.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="787.5" y="44.1426">ESPlayer</text><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="60.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="610" y="1106.3594"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="718" y="1106.3594"/><rect fill="#FFFFFF" filter="url(#f1i005mt6ru4o9)" height="91.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="813.5" y="1106.3594"/><polygon fill="#A80036" points="283,115.5703,293,119.5703,283,123.5703,287,119.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="119.5703" y2="119.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="7" y="114.7139">With( DataProvider )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="149.9219" y2="149.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="149.9219" y2="162.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="162.9219" y2="162.9219"/><polygon fill="#A80036" points="306,158.9219,296,162.9219,306,166.9219,302,162.9219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="302" y="145.0654">_dataProvider = DataProvider</text><polygon fill="#A80036" points="11,172.9219,1,176.9219,11,180.9219,7,176.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="176.9219" y2="176.9219"/><polygon fill="#A80036" points="283,231.2734,293,235.2734,283,239.2734,287,235.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="235.2734" y2="235.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="7" y="230.417">With( FactoryDelegate&lt;DataReader&gt; )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="265.625" y2="265.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="265.625" y2="278.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="278.625" y2="278.625"/><polygon fill="#A80036" points="306,274.625,296,278.625,306,282.625,302,278.625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="302" y="260.7686">_createDataReader = FactoryDelegate&lt;DataReader&gt;</text><polygon fill="#A80036" points="11,288.625,1,292.625,11,296.625,7,292.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="292.625" y2="292.625"/><polygon fill="#A80036" points="283,346.9766,293,350.9766,283,354.9766,287,350.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="350.9766" y2="350.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="7" y="346.1201">AddHandler( EosDelegate, ErrorDelegate )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="397.6797" y2="397.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="397.6797" y2="410.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="410.6797" y2="410.6797"/><polygon fill="#A80036" points="306,406.6797,296,410.6797,306,414.6797,302,410.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="302" y="376.4717">EosHandler += EosDelegate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="302" y="392.8232">ErrorHandler += ErrorDelegate</text><polygon fill="#A80036" points="11,420.6797,1,424.6797,11,428.6797,7,424.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="424.6797" y2="424.6797"/><polygon fill="#A80036" points="283,479.0313,293,483.0313,283,487.0313,287,483.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="483.0313" y2="483.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="7" y="478.1748">SeekNextPosition( SeekDirection, TimeSpan)</text><polygon fill="#A80036" points="806.5,509.3828,816.5,513.3828,806.5,517.3828,810.5,513.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="812.5" y1="513.3828" y2="513.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="302" y="508.5264">position = GetPlayingTime()</text><path d="M209,528.3828 L269,528.3828 L269,536.3828 L259,546.3828 L209,546.3828 L209,528.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="284" x="209" y="528.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="224" y="542.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="284" y="541.8018">[SeekDirection == Forward]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="585.4375" y2="585.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="585.4375" y2="598.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="598.4375" y2="598.4375"/><polygon fill="#A80036" points="306,594.4375,296,598.4375,306,602.4375,302,598.4375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="302" y="564.2295">position += SeekDistance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="302" y="580.5811">Clip position to TimeSpan</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="209" x2="493" y1="607.4375" y2="607.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="647.1406" y2="647.1406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="647.1406" y2="660.1406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="660.1406" y2="660.1406"/><polygon fill="#A80036" points="306,656.1406,296,660.1406,306,664.1406,302,660.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="302" y="625.9326">position -= SeekDistance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="302" y="642.2842">Clip position to TimeSpan.Zero</text><polygon fill="#A80036" points="11,693.4922,1,697.4922,11,701.4922,7,697.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="697.4922" y2="697.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="17" y="692.6357">TimeSpan</text><polygon fill="#A80036" points="283,751.8438,293,755.8438,283,759.8438,287,755.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="755.8438" y2="755.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="7" y="750.9873">PresentPacket( Packet )</text><path d="M3,770.8438 L63,770.8438 L63,778.8438 L53,788.8438 L3,788.8438 L3,770.8438 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="111.4063" style="stroke: #000000; stroke-width: 2.0;" width="873.5" x="3" y="770.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="18" y="785.3389">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="78" y="784.2627">[Packet == null End Of Stream]</text><path d="M209,796.1953 L282,796.1953 L282,804.1953 L272,814.1953 L209,814.1953 L209,796.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="657.5" x="209" y="796.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="224" y="810.6904">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="327" x="297" y="809.6143">[stream in DataProvider.CurrentConfiguration.StreamConfigs]</text><polygon fill="#A80036" points="806.5,832.8984,816.5,836.8984,806.5,840.8984,810.5,836.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="812.5" y1="836.8984" y2="836.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="302" y="832.042">SubmitEOSPacket( stream.ESStreamType() )</text><polygon fill="#A80036" points="11,870.25,1,874.25,11,878.25,7,874.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="874.25" y2="874.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="17" y="869.3936">PresentPacketResult.Success</text><polygon fill="#A80036" points="806.5,907.6016,816.5,911.6016,806.5,915.6016,810.5,911.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="812.5" y1="911.6016" y2="911.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="302" y="906.7451">submit = Submit( Packet )</text><polygon fill="#A80036" points="306,937.9531,296,941.9531,306,945.9531,302,941.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="300" x2="817.5" y1="941.9531" y2="941.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="312" y="937.0967">SubmitStatus</text><path d="M209,956.9531 L269,956.9531 L269,964.9531 L259,974.9531 L209,974.9531 L209,956.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="235" x="209" y="956.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="224" y="971.4482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="284" y="970.3721">[SubmitStatus.Fail]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="337" y1="997.6563" y2="997.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337" x2="337" y1="997.6563" y2="1010.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="337" y1="1010.6563" y2="1010.6563"/><polygon fill="#A80036" points="306,1006.6563,296,1010.6563,306,1014.6563,302,1010.6563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="302" y="992.7998">ErrorDelegate.Invoke()</text><polygon fill="#A80036" points="11,1044.0078,1,1048.0078,11,1052.0078,7,1048.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="1048.0078" y2="1048.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="17" y="1043.1514">PresentPacketResult.Success / Retry / Fail</text><polygon fill="#A80036" points="283,1102.3594,293,1106.3594,283,1110.3594,287,1106.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="0" x2="289" y1="1106.3594" y2="1106.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="7" y="1101.5029">Dispose()</text><polygon fill="#A80036" points="711,1132.7109,721,1136.7109,711,1140.7109,715,1136.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="717" y1="1136.7109" y2="1136.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="302" y="1131.8545">DisposeAsync()</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="714" x2="732" y1="1127.7109" y2="1145.7109"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="714" x2="732" y1="1145.7109" y2="1127.7109"/><polygon fill="#A80036" points="603,1163.0625,613,1167.0625,603,1171.0625,607,1167.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="609" y1="1167.0625" y2="1167.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="302" y="1162.2061">Dispose()</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="606" x2="624" y1="1158.0625" y2="1176.0625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="606" x2="624" y1="1176.0625" y2="1158.0625"/><polygon fill="#A80036" points="806.5,1193.4141,816.5,1197.4141,806.5,1201.4141,810.5,1197.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="295" x2="812.5" y1="1197.4141" y2="1197.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="302" y="1192.5576">Dispose()</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="809.5" x2="827.5" y1="1188.4141" y2="1206.4141"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="809.5" x2="827.5" y1="1206.4141" y2="1188.4141"/><polygon fill="#A80036" points="11,1207.4141,1,1211.4141,11,1215.4141,7,1211.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="5" x2="294" y1="1211.4141" y2="1211.4141"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="286" x2="304" y1="1202.4141" y2="1220.4141"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="286" x2="304" y1="1220.4141" y2="1202.4141"/><!--MD5=[9edc834831d6214406deb0ba366d51e4]
@startuml EsPlayerPresenterMisc
hide footbox

participant DataPresenter <<EsPlayerPresenter>>
participant DataProvider
participant DataReader
participant ESPlayer

...
[-> DataPresenter : With( DataProvider )
DataPresenter -> DataPresenter : _dataProvider = DataProvider
[<- - DataPresenter

...
[-> DataPresenter : With( FactoryDelegate<DataReader> )
DataPresenter -> DataPresenter : _createDataReader = FactoryDelegate<DataReader>
[<- - DataPresenter

...
[-> DataPresenter : AddHandler( EosDelegate, ErrorDelegate )
DataPresenter -> DataPresenter : EosHandler += EosDelegate\nErrorHandler += ErrorDelegate 
[<- - DataPresenter

...
[-> DataPresenter : SeekNextPosition( SeekDirection, TimeSpan)
DataPresenter -> ESPlayer : position = GetPlayingTime()
alt SeekDirection == Forward
    DataPresenter -> DataPresenter : position += SeekDistance\nClip position to TimeSpan
else
    DataPresenter -> DataPresenter : position -= SeekDistance\nClip position to TimeSpan.Zero    
end
[<- - DataPresenter : TimeSpan

...
[-> DataPresenter : PresentPacket( Packet )
alt Packet == null End Of Stream
    loop stream in DataProvider.CurrentConfiguration.StreamConfigs
        DataPresenter -> ESPlayer : SubmitEOSPacket( stream.ESStreamType() )
    end
[<- - DataPresenter : PresentPacketResult.Success
end

DataPresenter -> ESPlayer : submit = Submit( Packet )
DataPresenter <- - ESPlayer : SubmitStatus
alt SubmitStatus.Fail
    DataPresenter -> DataPresenter : ErrorDelegate.Invoke()
end
[<- - DataPresenter : PresentPacketResult.Success / Retry / Fail

...
[-> DataPresenter : Dispose()
activate DataProvider
activate DataReader
activate ESPlayer

DataPresenter -> DataReader : DisposeAsync()
destroy DataReader
DataPresenter -> DataProvider : Dispose()
destroy DataProvider
DataPresenter -> ESPlayer : Dispose()
destroy ESPlayer

[<- - DataPresenter
destroy DataPresenter
@enduml

PlantUML version 1.2020.20(Sat Nov 21 11:02:45 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1250
Language: en
Country: GB
--></g></svg>